{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \" Nombre \", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"lastname\"\n}, \" Apellido \", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \" Email \", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"qty\"\n}, \" Numero de entradas \", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"zones-select\"\n}, \" Selecciona la zona\", -1 /* HOISTED */);\nconst _hoisted_6 = [\"value\"];\nconst _hoisted_7 = [\"value\"];\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-block btn-info\",\n  id: \"\",\n  type: \"submit\"\n}, \"Comprar\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.buyTickets && $options.buyTickets(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_1, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.name = $event),\n    type: \"text\",\n    id: \"name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.name]])]), _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.lastname = $event),\n    type: \"text\",\n    id: \"lastname\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.lastname]])]), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.user.email = $event),\n    type: \"email\",\n    id: \"email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.email]])]), _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.numberOfTickers = $event),\n    type: \"number\",\n    id: \"qty\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.numberOfTickers]])]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"select\", {\n    id: \"zones-select\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.selectedZone = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.zones, zone => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: zone.id,\n      value: zone.descripcion\n    }, _toDisplayString(zone.descripcion), 9 /* TEXT, PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedZone]])]), _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.days, day => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: day.idDia\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      value: day.numeroDia,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.selectedDays = $event)\n    }, null, 8 /* PROPS */, _hoisted_7), [[_vModelCheckbox, $data.selectedDays]]), _createElementVNode(\"label\", null, _toDisplayString(day.Recital) + \" Dia \" + _toDisplayString(day.numeroDia), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _hoisted_8], 32 /* HYDRATE_EVENTS */);\n}","map":{"version":3,"names":["_createElementVNode","for","class","id","type","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","buyTickets","_hoisted_1","$data","user","name","$event","_hoisted_2","lastname","_hoisted_3","email","_hoisted_4","numberOfTickers","_hoisted_5","selectedZone","_Fragment","_renderList","zones","zone","key","value","descripcion","_hoisted_6","days","day","idDia","numeroDia","selectedDays","_toDisplayString","Recital","_hoisted_8"],"sources":["/Users/malemoreno/Desktop/TpGrupalWeb/frontend/src/components/FinalComponent.vue"],"sourcesContent":["<template>\n\n    <form @submit.prevent=\"buyTickets\">\n        <div>\n            <label for=\"name\"> Nombre </label>\n            <input v-model=\"user.name\" type=\"text\" id=\"name\">\n        </div>\n        <div>\n            <label for=\"lastname\"> Apellido </label>\n            <input v-model=\"user.lastname\" type=\"text\" id=\"lastname\">\n        </div>\n        <div>\n            <label for=\"email\"> Email </label>\n            <input v-model=\"user.email\" type=\"email\" id=\"email\">\n        </div>\n        <div>\n            <label for=\"qty\"> Numero de entradas </label>\n            <input v-model=\"numberOfTickers\" type=\"number\" id=\"qty\">\n        </div>\n        <div>\n            <label for=\"zones-select\"> Selecciona la zona</label>\n            <select id=\"zones-select\" v-model=\"selectedZone\">\n                <option v-for=\"zone in zones\" :key=\"zone.id\" v-bind:value=\"zone.descripcion\">{{ zone.descripcion }} </option>\n            </select>\n        </div>\n        <div>\n            <div v-for=\"day in days\" :key=\"day.idDia\">\n                <input type=\"checkbox\" :value=\"day.numeroDia\" v-model=\"selectedDays\">\n                <label> {{ day.Recital }} Dia {{ day.numeroDia }} </label>\n            </div>\n        </div>\n        <div>\n            <button class=\"btn btn-block btn-info\" id=\"\" type=\"submit\">Comprar</button>\n        </div>\n    </form>\n\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            user: {\n                name: \"\",\n                lastname: \"\",\n                email: \"\"\n            },\n            days: [],\n            zones: [{'id':1, 'descripcion':'platea central', 'capacidadMaxima':250, 'capacidadActual':250,'adicional':2000},\n        {'id':2, 'descripcion':'Campo delantero', 'capacidadMaxima':300, 'capacidadActual':300,'adicional':1500},\n        {'id':3, 'descripcion':'Campo trasero', 'capacidadMaxima': 500, 'capacidadActual':300,'adicional':0},\n        {'id':4, 'descripcion':'Palco', 'capacidadMaxima': 500, 'capacidadActual':300,'adicional':3000}],\n            selectedZone: \"\",\n            selectedDays: [],\n            numberOfTickers: 0,\n            pricePerDay: []\n\n        }\n    }, mounted() {\n        fetch(\"http://localhost:5000/available-days\")\n            .then(response => response.json()).\n            then(data => {\n                this.days = data\n                console.log(this.days)\n            }\n            ).catch(error => console.log(error));\n\n        fetch(\"http://localhost:5000/zones\")\n            .then(response => response.json()).\n            then(data => {\n                this.zones = data\n                console.log(this.zones)\n            }\n            ).catch(error => console.log(error));\n\n    }, methods: {\n        buyTickets() {\n            console.log(\"dias \", this.selectedDays)\n            console.log(\"zonas \", this.selectedZone)\n            console.log(\"tickets \", this.numberOfTickers)\n            console.log(\"user \", this.user)\n            this.calculatePrice()\n\n            const purchase = {\n                days: this.selectedDays,\n                zones: this.selectedZone,\n                quantity: this.numberOfTickers,\n                user: this.user\n            }\n\n            fetch(\"http://localhost:5000/buy\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(purchase),\n            }).then(response => response.json()).\n                then(data => console.log(data))\n\n        },\n        calculatePrice() {\n            this.selectedDays.forEach(selectedDay => {\n                this.days.forEach(day => {\n                    if (day.numeroDia === selectedDay) {\n                        this.pricePerDay.push(day.precio)\n                    }\n                })\n            }\n            )\n            const zonePrice = this.zones.find(zona => zona.descripcion === this.selectedZone).adicional\n            console.log(\"zonePrice\", zonePrice)\n            const finalPrice = this.pricePerDay.map(price => (price + zonePrice) * this.numberOfTickers)\n            console.log(finalPrice)\n\n        }\n    }\n\n}\n</script>\n\n\n<style>\n\nform{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin: 3vw; \n    /* margin-left: 10vw; */\n}\n\nform div label{\n    font-family: Julius Sans One;\n    font-weight: 700;\n    font-size: 2.5vh;\n    margin: 1vw;\n}\n\n\n</style>"],"mappings":";gCAIYA,mBAAA,CAAkC;EAA3BC,GAAG,EAAC;AAAM,GAAC,UAAQ;gCAI1BD,mBAAA,CAAwC;EAAjCC,GAAG,EAAC;AAAU,GAAC,YAAU;gCAIhCD,mBAAA,CAAkC;EAA3BC,GAAG,EAAC;AAAO,GAAC,SAAO;gCAI1BD,mBAAA,CAA6C;EAAtCC,GAAG,EAAC;AAAK,GAAC,sBAAoB;gCAIrCD,mBAAA,CAAqD;EAA9CC,GAAG,EAAC;AAAc,GAAC,qBAAmB;;;gCAWjDD,mBAAA,CAEM,c,aADFA,mBAAA,CAA2E;EAAnEE,KAAK,EAAC,wBAAwB;EAACC,EAAE,EAAC,EAAE;EAACC,IAAI,EAAC;GAAS,SAAO,E;;;uBA9B1EC,mBAAA,CAgCO;IAhCAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC7BT,mBAAA,CAGM,cAFFY,UAAkC,E,gBAClCZ,mBAAA,CAAiD;+DAAjCa,KAAA,CAAAC,IAAI,CAACC,IAAI,GAAAC,MAAA;IAAEZ,IAAI,EAAC,MAAM;IAACD,EAAE,EAAC;iDAA1BU,KAAA,CAAAC,IAAI,CAACC,IAAI,E,KAE7Bf,mBAAA,CAGM,cAFFiB,UAAwC,E,gBACxCjB,mBAAA,CAAyD;+DAAzCa,KAAA,CAAAC,IAAI,CAACI,QAAQ,GAAAF,MAAA;IAAEZ,IAAI,EAAC,MAAM;IAACD,EAAE,EAAC;iDAA9BU,KAAA,CAAAC,IAAI,CAACI,QAAQ,E,KAEjClB,mBAAA,CAGM,cAFFmB,UAAkC,E,gBAClCnB,mBAAA,CAAoD;+DAApCa,KAAA,CAAAC,IAAI,CAACM,KAAK,GAAAJ,MAAA;IAAEZ,IAAI,EAAC,OAAO;IAACD,EAAE,EAAC;iDAA5BU,KAAA,CAAAC,IAAI,CAACM,KAAK,E,KAE9BpB,mBAAA,CAGM,cAFFqB,UAA6C,E,gBAC7CrB,mBAAA,CAAwD;+DAAxCa,KAAA,CAAAS,eAAe,GAAAN,MAAA;IAAEZ,IAAI,EAAC,QAAQ;IAACD,EAAE,EAAC;iDAAlCU,KAAA,CAAAS,eAAe,E,KAEnCtB,mBAAA,CAKM,cAJFuB,UAAqD,E,gBACrDvB,mBAAA,CAES;IAFDG,EAAE,EAAC,cAAc;+DAAUU,KAAA,CAAAW,YAAY,GAAAR,MAAA;yBAC3CX,mBAAA,CAA6GoB,SAAA,QAAAC,WAAA,CAAtFb,KAAA,CAAAc,KAAK,EAAbC,IAAI;yBAAnBvB,mBAAA,CAA6G;MAA9EwB,GAAG,EAAED,IAAI,CAACzB,EAAE;MAAS2B,KAAK,EAAEF,IAAI,CAACG;wBAAgBH,IAAI,CAACG,WAAW,wBAAAC,UAAA;2EADjEnB,KAAA,CAAAW,YAAY,E,KAInDxB,mBAAA,CAKM,e,kBAJFK,mBAAA,CAGMoB,SAAA,QAAAC,WAAA,CAHab,KAAA,CAAAoB,IAAI,EAAXC,GAAG;yBAAf7B,mBAAA,CAGM;MAHoBwB,GAAG,EAAEK,GAAG,CAACC;wBAC/BnC,mBAAA,CAAqE;MAA9DI,IAAI,EAAC,UAAU;MAAE0B,KAAK,EAAEI,GAAG,CAACE,SAAS;iEAAWvB,KAAA,CAAAwB,YAAY,GAAArB,MAAA;4DAAZH,KAAA,CAAAwB,YAAY,E,GACnErC,mBAAA,CAA0D,eAAAsC,gBAAA,CAA/CJ,GAAG,CAACK,OAAO,IAAG,OAAK,GAAAD,gBAAA,CAAGJ,GAAG,CAACE,SAAS,iB;oCAGtDI,UAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}