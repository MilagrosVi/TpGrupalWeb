{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      user: {\n        name: \"\",\n        lastname: \"\",\n        email: \"\"\n      },\n      days: [],\n      zones: [],\n      selectedZone: \"\",\n      selectedDays: [],\n      numberOfTickers: 0,\n      pricePerDay: []\n    };\n  },\n  mounted() {\n    fetch(\"http://localhost:5000/available-days\").then(response => response.json()).then(data => {\n      this.days = data;\n      console.log(this.days);\n    }).catch(error => console.log(error));\n    fetch(\"http://localhost:5000/zones\").then(response => response.json()).then(data => {\n      this.zones = data;\n      console.log(this.zones);\n    }).catch(error => console.log(error));\n  },\n  methods: {\n    buyTickets() {\n      console.log(\"dias \", this.selectedDays);\n      console.log(\"zonas \", this.selectedZone);\n      console.log(\"tickets \", this.numberOfTickers);\n      console.log(\"user \", this.user);\n      this.calculatePrice();\n      const purchase = {\n        days: this.selectedDays,\n        zones: this.selectedZone,\n        quantity: this.numberOfTickers,\n        user: this.user\n      };\n      fetch(\"http://localhost:5000/buy\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(purchase)\n      }).then(response => response.json()).then(data => console.log(data));\n    },\n    calculatePrice() {\n      this.selectedDays.forEach(selectedDay => {\n        this.days.forEach(day => {\n          if (day.numeroDia === selectedDay) {\n            this.pricePerDay.push(day.precio);\n          }\n        });\n      });\n      const zonePrice = this.zones.find(zona => zona.descripcion === this.selectedZone).adicional;\n      console.log(\"zonePrice\", zonePrice);\n      const finalPrice = this.pricePerDay.map(price => (price + zonePrice) * this.numberOfTickers);\n      console.log(finalPrice);\n    }\n  }\n};","map":{"version":3,"names":["data","user","name","lastname","email","days","zones","selectedZone","selectedDays","numberOfTickers","pricePerDay","mounted","fetch","then","response","json","console","log","catch","error","methods","buyTickets","calculatePrice","purchase","quantity","method","headers","body","JSON","stringify","forEach","selectedDay","day","numeroDia","push","precio","zonePrice","find","zona","descripcion","adicional","finalPrice","map","price"],"sources":["/Users/malemoreno/Desktop/TpGrupalWeb/frontend/src/components/FinalComponent.vue"],"sourcesContent":["<template>\n\n    <form @submit.prevent=\"buyTickets\">\n        <div>\n            <label for=\"name\"> Nombre </label>\n            <input v-model=\"user.name\" type=\"text\" id=\"name\">\n        </div>\n        <div>\n            <label for=\"lastname\"> Apellido </label>\n            <input v-model=\"user.lastname\" type=\"text\" id=\"lastname\">\n        </div>\n        <div>\n            <label for=\"email\"> Email </label>\n            <input v-model=\"user.email\" type=\"email\" id=\"email\">\n        </div>\n        <div>\n            <label for=\"qty\"> Numero de entradas </label>\n            <input v-model=\"numberOfTickers\" type=\"number\" id=\"qty\">\n        </div>\n        <div>\n            <label for=\"zones-select\"> Selecciona la zona</label>\n            <select id=\"zones-select\" v-model=\"selectedZone\">\n                <option v-for=\"zone in zones\" :key=\"zone.id\" v-bind:value=\"zone.descripcion\">{{ zone.descripcion }} </option>\n            </select>\n        </div>\n        <div>\n            <div v-for=\"day in days\" :key=\"day.idDia\">\n                <input type=\"checkbox\" :value=\"day.numeroDia\" v-model=\"selectedDays\">\n                <label> {{ day.Recital }} Dia {{ day.numeroDia }} </label>\n            </div>\n        </div>\n        <button type=\"submit\">Comprar</button>\n    </form>\n\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            user: {\n                name: \"\",\n                lastname: \"\",\n                email: \"\"\n            },\n            days: [],\n            zones: [],\n            selectedZone: \"\",\n            selectedDays: [],\n            numberOfTickers: 0,\n            pricePerDay: []\n\n        }\n    }, mounted() {\n        fetch(\"http://localhost:5000/available-days\")\n            .then(response => response.json()).\n            then(data => {\n                this.days = data\n                console.log(this.days)\n            }\n            ).catch(error => console.log(error));\n\n        fetch(\"http://localhost:5000/zones\")\n            .then(response => response.json()).\n            then(data => {\n                this.zones = data\n                console.log(this.zones)\n            }\n            ).catch(error => console.log(error));\n\n    }, methods: {\n        buyTickets() {\n            console.log(\"dias \", this.selectedDays)\n            console.log(\"zonas \", this.selectedZone)\n            console.log(\"tickets \", this.numberOfTickers)\n            console.log(\"user \", this.user)\n            this.calculatePrice()\n\n            const purchase = {\n                days: this.selectedDays,\n                zones: this.selectedZone,\n                quantity: this.numberOfTickers,\n                user: this.user\n            }\n\n            fetch(\"http://localhost:5000/buy\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(purchase),\n            }).then(response => response.json()).\n                then(data => console.log(data))\n\n        },\n        calculatePrice() {\n            this.selectedDays.forEach(selectedDay => {\n                this.days.forEach(day => {\n                    if (day.numeroDia === selectedDay) {\n                        this.pricePerDay.push(day.precio)\n                    }\n                })\n            }\n            )\n            const zonePrice = this.zones.find(zona => zona.descripcion === this.selectedZone).adicional\n            console.log(\"zonePrice\", zonePrice)\n            const finalPrice = this.pricePerDay.map(price => (price + zonePrice) * this.numberOfTickers)\n            console.log(finalPrice)\n\n        }\n    }\n\n}\n</script>\n\n\n<style>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}