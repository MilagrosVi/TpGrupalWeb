{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \" Nombre \", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"lastname\"\n}, \" Apellido \", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \" Email \", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"qty\"\n}, \" Numero de entradas \", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"zones-select\"\n}, \" Selecciona la zona\", -1 /* HOISTED */);\nconst _hoisted_6 = [\"value\"];\nconst _hoisted_7 = [\"value\"];\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Comprar\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.buyTickets && $options.buyTickets(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_1, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.name = $event),\n    type: \"text\",\n    id: \"name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.name]])]), _createElementVNode(\"div\", null, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.lastname = $event),\n    type: \"text\",\n    id: \"lastname\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.lastname]])]), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.user.email = $event),\n    type: \"email\",\n    id: \"email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.email]])]), _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.numberOfTickers = $event),\n    type: \"number\",\n    id: \"qty\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.numberOfTickers]])]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"select\", {\n    id: \"zones-select\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.selectedZone = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.zones, zone => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: zone.id,\n      value: zone.descripcion\n    }, _toDisplayString(zone.descripcion), 9 /* TEXT, PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedZone]])]), _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.days, day => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: day.idDia\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      value: day.numeroDia,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.selectedDays = $event)\n    }, null, 8 /* PROPS */, _hoisted_7), [[_vModelCheckbox, $data.selectedDays]]), _createElementVNode(\"label\", null, _toDisplayString(day.Recital) + \" Dia \" + _toDisplayString(day.numeroDia), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _hoisted_8], 32 /* HYDRATE_EVENTS */);\n}","map":{"version":3,"names":["_createElementVNode","for","type","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","buyTickets","_hoisted_1","$data","user","name","$event","id","_hoisted_2","lastname","_hoisted_3","email","_hoisted_4","numberOfTickers","_hoisted_5","selectedZone","_Fragment","_renderList","zones","zone","key","value","descripcion","_hoisted_6","days","day","idDia","numeroDia","selectedDays","_toDisplayString","Recital","_hoisted_8"],"sources":["/Users/malemoreno/Desktop/TpGrupalWeb/frontend/src/components/FinalComponent.vue"],"sourcesContent":["<template>\n\n    <form @submit.prevent=\"buyTickets\">\n        <div>\n            <label for=\"name\"> Nombre </label>\n            <input v-model=\"user.name\" type=\"text\" id=\"name\">\n        </div>\n        <div>\n            <label for=\"lastname\"> Apellido </label>\n            <input v-model=\"user.lastname\" type=\"text\" id=\"lastname\">\n        </div>\n        <div>\n            <label for=\"email\"> Email </label>\n            <input v-model=\"user.email\" type=\"email\" id=\"email\">\n        </div>\n        <div>\n            <label for=\"qty\"> Numero de entradas </label>\n            <input v-model=\"numberOfTickers\" type=\"number\" id=\"qty\">\n        </div>\n        <div>\n            <label for=\"zones-select\"> Selecciona la zona</label>\n            <select id=\"zones-select\" v-model=\"selectedZone\">\n                <option v-for=\"zone in zones\" :key=\"zone.id\" v-bind:value=\"zone.descripcion\">{{ zone.descripcion }} </option>\n            </select>\n        </div>\n        <div>\n            <div v-for=\"day in days\" :key=\"day.idDia\">\n                <input type=\"checkbox\" :value=\"day.numeroDia\" v-model=\"selectedDays\">\n                <label> {{ day.Recital }} Dia {{ day.numeroDia }} </label>\n            </div>\n        </div>\n        <button type=\"submit\">Comprar</button>\n    </form>\n\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            user: {\n                name: \"\",\n                lastname: \"\",\n                email: \"\"\n            },\n            days: [],\n            zones: [],\n            selectedZone: \"\",\n            selectedDays: [],\n            numberOfTickers: 0,\n            pricePerDay: []\n\n        }\n    }, mounted() {\n        fetch(\"http://localhost:5000/available-days\")\n            .then(response => response.json()).\n            then(data => {\n                this.days = data\n                console.log(this.days)\n            }\n            ).catch(error => console.log(error));\n\n        fetch(\"http://localhost:5000/zones\")\n            .then(response => response.json()).\n            then(data => {\n                this.zones = data\n                console.log(this.zones)\n            }\n            ).catch(error => console.log(error));\n\n    }, methods: {\n        buyTickets() {\n            console.log(\"dias \", this.selectedDays)\n            console.log(\"zonas \", this.selectedZone)\n            console.log(\"tickets \", this.numberOfTickers)\n            console.log(\"user \", this.user)\n            this.calculatePrice()\n\n            const purchase = {\n                days: this.selectedDays,\n                zones: this.selectedZone,\n                quantity: this.numberOfTickers,\n                user: this.user\n            }\n\n            fetch(\"http://localhost:5000/buy\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(purchase),\n            }).then(response => response.json()).\n                then(data => console.log(data))\n\n        },\n        calculatePrice() {\n            this.selectedDays.forEach(selectedDay => {\n                this.days.forEach(day => {\n                    if (day.numeroDia === selectedDay) {\n                        this.pricePerDay.push(day.precio)\n                    }\n                })\n            }\n            )\n            const zonePrice = this.zones.find(zona => zona.descripcion === this.selectedZone).adicional\n            console.log(\"zonePrice\", zonePrice)\n            const finalPrice = this.pricePerDay.map(price => (price + zonePrice) * this.numberOfTickers)\n            console.log(finalPrice)\n\n        }\n    }\n\n}\n</script>\n\n\n<style>\n\n</style>"],"mappings":";gCAIYA,mBAAA,CAAkC;EAA3BC,GAAG,EAAC;AAAM,GAAC,UAAQ;gCAI1BD,mBAAA,CAAwC;EAAjCC,GAAG,EAAC;AAAU,GAAC,YAAU;gCAIhCD,mBAAA,CAAkC;EAA3BC,GAAG,EAAC;AAAO,GAAC,SAAO;gCAI1BD,mBAAA,CAA6C;EAAtCC,GAAG,EAAC;AAAK,GAAC,sBAAoB;gCAIrCD,mBAAA,CAAqD;EAA9CC,GAAG,EAAC;AAAc,GAAC,qBAAmB;;;gCAWjDD,mBAAA,CAAsC;EAA9BE,IAAI,EAAC;AAAQ,GAAC,SAAO;;;uBA7BjCC,mBAAA,CA8BO;IA9BAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC7BP,mBAAA,CAGM,cAFFU,UAAkC,E,gBAClCV,mBAAA,CAAiD;+DAAjCW,KAAA,CAAAC,IAAI,CAACC,IAAI,GAAAC,MAAA;IAAEZ,IAAI,EAAC,MAAM;IAACa,EAAE,EAAC;iDAA1BJ,KAAA,CAAAC,IAAI,CAACC,IAAI,E,KAE7Bb,mBAAA,CAGM,cAFFgB,UAAwC,E,gBACxChB,mBAAA,CAAyD;+DAAzCW,KAAA,CAAAC,IAAI,CAACK,QAAQ,GAAAH,MAAA;IAAEZ,IAAI,EAAC,MAAM;IAACa,EAAE,EAAC;iDAA9BJ,KAAA,CAAAC,IAAI,CAACK,QAAQ,E,KAEjCjB,mBAAA,CAGM,cAFFkB,UAAkC,E,gBAClClB,mBAAA,CAAoD;+DAApCW,KAAA,CAAAC,IAAI,CAACO,KAAK,GAAAL,MAAA;IAAEZ,IAAI,EAAC,OAAO;IAACa,EAAE,EAAC;iDAA5BJ,KAAA,CAAAC,IAAI,CAACO,KAAK,E,KAE9BnB,mBAAA,CAGM,cAFFoB,UAA6C,E,gBAC7CpB,mBAAA,CAAwD;+DAAxCW,KAAA,CAAAU,eAAe,GAAAP,MAAA;IAAEZ,IAAI,EAAC,QAAQ;IAACa,EAAE,EAAC;iDAAlCJ,KAAA,CAAAU,eAAe,E,KAEnCrB,mBAAA,CAKM,cAJFsB,UAAqD,E,gBACrDtB,mBAAA,CAES;IAFDe,EAAE,EAAC,cAAc;+DAAUJ,KAAA,CAAAY,YAAY,GAAAT,MAAA;yBAC3CX,mBAAA,CAA6GqB,SAAA,QAAAC,WAAA,CAAtFd,KAAA,CAAAe,KAAK,EAAbC,IAAI;yBAAnBxB,mBAAA,CAA6G;MAA9EyB,GAAG,EAAED,IAAI,CAACZ,EAAE;MAASc,KAAK,EAAEF,IAAI,CAACG;wBAAgBH,IAAI,CAACG,WAAW,wBAAAC,UAAA;2EADjEpB,KAAA,CAAAY,YAAY,E,KAInDvB,mBAAA,CAKM,e,kBAJFG,mBAAA,CAGMqB,SAAA,QAAAC,WAAA,CAHad,KAAA,CAAAqB,IAAI,EAAXC,GAAG;yBAAf9B,mBAAA,CAGM;MAHoByB,GAAG,EAAEK,GAAG,CAACC;wBAC/BlC,mBAAA,CAAqE;MAA9DE,IAAI,EAAC,UAAU;MAAE2B,KAAK,EAAEI,GAAG,CAACE,SAAS;iEAAWxB,KAAA,CAAAyB,YAAY,GAAAtB,MAAA;4DAAZH,KAAA,CAAAyB,YAAY,E,GACnEpC,mBAAA,CAA0D,eAAAqC,gBAAA,CAA/CJ,GAAG,CAACK,OAAO,IAAG,OAAK,GAAAD,gBAAA,CAAGJ,GAAG,CAACE,SAAS,iB;oCAGtDI,UAAsC,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}